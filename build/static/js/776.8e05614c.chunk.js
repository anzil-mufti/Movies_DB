"use strict";(self.webpackChunkmovie_db=self.webpackChunkmovie_db||[]).push([[776],{8788:function(e,n,r){r.d(n,{Z:function(){return s}});var t="CustomButton_custom_button__SqFid",a=r(184),s=function(e){return(0,a.jsx)("button",{className:t,onClick:e.onClick,children:e.children})}},4722:function(e,n,r){r.d(n,{Z:function(){return u}});var t="FormInput_form_input__2xyxH",a="FormInput_label__sQOvy",s="FormInput_input__m6swg",i="FormInput_error__IidFd",o=r(184),u=function(e){return(0,o.jsxs)("div",{className:t,children:[(0,o.jsx)("label",{className:a,children:e.label}),(0,o.jsx)("input",{className:s,type:e.type,name:e.name,value:e.value,onChange:e.handleChange,placeholder:e.label,onBlur:e.handleBlur,ref:e.Ref,required:!0}),e.hasError&&(0,o.jsx)("p",{className:i,children:e.errorMessage})]})}},1776:function(e,n,r){r.r(n);var t=r(5861),a=r(885),s=r(7757),i=r.n(s),o=r(2791),u=r(4722),l=r(8788),c=r(6120),d=r(6871),m=r(3504),p=r(4569),h=r.n(p),f=r(5199),_=r(6030),v=r(577),g=(r(5462),r(184));n.default=function(){var e=(0,o.useState)(!0),n=(0,a.Z)(e,2),r=n[0],s=n[1],p=(0,o.useState)(!0),x=(0,a.Z)(p,2),I=x[0],b=x[1],j=(0,o.useRef)(),k=(0,o.useRef)(),S=(0,d.s0)(),Z=(0,_.I0)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:c.Z.center,children:(0,g.jsxs)("div",{className:c.Z.sign_in,children:[(0,g.jsx)("h1",{children:"SIGN IN"}),(0,g.jsxs)("form",{className:c.Z.signInForm,onSubmit:function(e){e.preventDefault();var n=function(){var e=/\S+@\S+\.\S+/.test(j.current.value);return s(e),e}(),r=function(){var e=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(k.current.value);return b(e),e}();if(n&&r){var a={email:j.current.value,password:k.current.value};j.current.value="",k.current.value="";var o=function(){var e=(0,t.Z)(i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h().post("https://delightful-deer-peplum.cyclic.app/api/signin",a,{withCredentials:!0});case 3:n=e.sent,localStorage.setItem("token",n.data.token),setTimeout((function(){Z((0,f.x4)(n.data.movie))}),3e3),v.Am.success(n.data.message,{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}),setTimeout((function(){return S("/")}),1e3),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),r=e.t0.response.data.message,v.Am.error(r,{position:v.Am.POSITION.TOP_RIGHT,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0});case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();o()}},children:[(0,g.jsx)(u.Z,{name:"email",type:"email",label:"Email",Ref:j,hasError:!r,handleChange:function(){return s(!0)},errorMessage:"Please enter a valid email",required:!0}),(0,g.jsx)(u.Z,{name:"password",type:"password",label:"Password",Ref:k,handleChange:function(){return b(!0)},hasError:!I,errorMessage:"Password must be at least 8 characters long, contain at least one uppercase letter, one lowercase letter and one number",required:!0}),(0,g.jsx)(l.Z,{type:"submit",children:"Sign in"})]}),(0,g.jsxs)("p",{children:["Don't have an account ?"," ",(0,g.jsx)(m.rU,{to:"/signup",className:c.Z.link,children:"Sign up"})]})]})}),(0,g.jsx)(v.Ix,{})]})}},6120:function(e,n){n.Z={sign_in:"SignIn_sign_in__LVY4X",center:"SignIn_center__DbJ+y",signInForm:"SignIn_signInForm__AkZEY",link:"SignIn_link__otdxG"}}}]);
//# sourceMappingURL=776.8e05614c.chunk.js.map