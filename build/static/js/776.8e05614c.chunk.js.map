{"version":3,"file":"static/js/776.8e05614c.chunk.js","mappings":"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","sources":["webpack://movie-db/./src/components/UI/CustomButton.module.css?0e93","components/UI/CustomButton.jsx","webpack://movie-db/./src/components/UI/FormInput.module.css?9ea1","components/UI/FormInput.jsx","components/pages/SignIn.jsx","webpack://movie-db/./src/components/pages/SignIn.module.css?38b6"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"custom_button\":\"CustomButton_custom_button__SqFid\"};","import classes from './CustomButton.module.css';\r\n\r\nconst CustomButton = (props) => {\r\n    return (\r\n        <button className={classes.custom_button} onClick={props.onClick}>\r\n            {props.children}\r\n        </button>\r\n    );\r\n}\r\n\r\nexport default CustomButton;","// extracted by mini-css-extract-plugin\nexport default {\"form_input\":\"FormInput_form_input__2xyxH\",\"label\":\"FormInput_label__sQOvy\",\"input\":\"FormInput_input__m6swg\",\"error\":\"FormInput_error__IidFd\"};","import classes from \"./FormInput.module.css\";\r\n\r\nconst FormInput = (props) => {\r\n  return (\r\n    <div className={classes.form_input}>\r\n      <label className={classes.label}>{props.label}</label>\r\n      <input\r\n        className={classes.input}\r\n        type={props.type}\r\n        name={props.name}\r\n        value={props.value}\r\n        onChange={props.handleChange}\r\n        placeholder={props.label}\r\n        onBlur={props.handleBlur}\r\n        ref={props.Ref}\r\n        required\r\n      />\r\n      {props.hasError && <p className={classes.error}>{props.errorMessage}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormInput;","import { useRef, useState } from \"react\";\r\nimport FormInput from \"../UI/FormInput\";\r\nimport CustomButton from \"../UI/CustomButton\";\r\nimport classes from \"./SignIn.module.css\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { login } from \"../store/AuthSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst SignIn = () => {\r\n  const [isEmailValid, setIsEmailValid] = useState(true);\r\n  const [isPasswordValid, setIsPasswordValid] = useState(true);\r\n\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const emailValidity = () => {\r\n    const re = /\\S+@\\S+\\.\\S+/;\r\n    const result = re.test(emailRef.current.value);\r\n    setIsEmailValid(result);\r\n    return result;\r\n  };\r\n\r\n  const passwordValidity = () => {\r\n    // regex for password validation (at least 1 uppercase, 1 lowercase, 1 number, 1 special character, 8 characters long)\r\n    const re = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\r\n    const result = re.test(passwordRef.current.value);\r\n    setIsPasswordValid(result);\r\n    return result;\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const validE = emailValidity();\r\n    const validP = passwordValidity();\r\n\r\n    if (validE && validP) {\r\n      const body = {\r\n        email: emailRef.current.value,\r\n        password: passwordRef.current.value,\r\n      };\r\n\r\n      emailRef.current.value = \"\";\r\n      passwordRef.current.value = \"\";\r\n\r\n      const fetchData = async () => {\r\n        try {\r\n          const response = await axios.post(\r\n            \"https://delightful-deer-peplum.cyclic.app/api/signin\",\r\n            body,\r\n            { withCredentials: true }\r\n          );\r\n          localStorage.setItem(\"token\", response.data.token);\r\n          setTimeout(() => {\r\n            dispatch(login(response.data.movie));\r\n          }, 3000);\r\n          toast.success(response.data.message, {\r\n            position: \"top-right\",\r\n            autoClose: 1000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n          });\r\n          setTimeout(() => navigate(\"/\"), 1000);\r\n        } catch (error) {\r\n          console.log(error);\r\n          const error_msg = error.response.data.message;\r\n          toast.error(error_msg, {\r\n            position: toast.POSITION.TOP_RIGHT,\r\n            autoClose: 2000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n          });\r\n        }\r\n      };\r\n      fetchData();\r\n    } else return;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.center}>\r\n        <div className={classes.sign_in}>\r\n          <h1>SIGN IN</h1>\r\n          <form className={classes.signInForm} onSubmit={handleSubmit}>\r\n            <FormInput\r\n              name=\"email\"\r\n              type=\"email\"\r\n              label=\"Email\"\r\n              Ref={emailRef}\r\n              hasError={!isEmailValid}\r\n              handleChange={() => setIsEmailValid(true)}\r\n              errorMessage=\"Please enter a valid email\"\r\n              required\r\n            />\r\n            <FormInput\r\n              name=\"password\"\r\n              type=\"password\"\r\n              label=\"Password\"\r\n              Ref={passwordRef}\r\n              handleChange={() => setIsPasswordValid(true)}\r\n              hasError={!isPasswordValid}\r\n              errorMessage=\"Password must be at least 8 characters long, contain at least one uppercase letter, one lowercase letter and one number\"\r\n              required\r\n            />\r\n            <CustomButton type=\"submit\">Sign in</CustomButton>\r\n          </form>\r\n          <p>\r\n            Don't have an account ?{\" \"}\r\n            <Link to=\"/signup\" className={classes.link}>\r\n              Sign up\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <ToastContainer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignIn;","// extracted by mini-css-extract-plugin\nexport default {\"sign_in\":\"SignIn_sign_in__LVY4X\",\"center\":\"SignIn_center__DbJ+y\",\"signInForm\":\"SignIn_signInForm__AkZEY\",\"link\":\"SignIn_link__otdxG\"};"],"names":["props","className","classes","onClick","children","label","type","name","value","onChange","handleChange","placeholder","onBlur","handleBlur","ref","Ref","required","hasError","errorMessage","useState","isEmailValid","setIsEmailValid","isPasswordValid","setIsPasswordValid","emailRef","useRef","passwordRef","navigate","useNavigate","dispatch","useDispatch","onSubmit","e","preventDefault","validE","result","test","current","emailValidity","validP","passwordValidity","body","email","password","fetchData","axios","withCredentials","response","localStorage","setItem","data","token","setTimeout","login","movie","toast","message","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","console","log","error_msg","to"],"sourceRoot":""}